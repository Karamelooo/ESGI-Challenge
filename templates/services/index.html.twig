{% extends 'base.html.twig' %}

{% block title %}Services index{% endblock %}

{% block body %}
    <div class= "mx-40 w-auto rounded-lg bg-gray-600 text-gray-200 text-center">
        <h1 class="text-3xl font-bold">Services index</h1>

        <table class="mx-auto">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Famille</th>
                    <th>Prix de vente</th>
                    <th>Prix d'achat</th>
                    <th>Taxes</th>
                    <th>Dernière modification</th>
                    <th>actions</th>
                </tr>
            </thead>
            <tbody>
            {% for service in services %}
                {% embed '_components/_card.html.twig'%}
                    {% block body %}
                        <tr class="font-normal p-4 m-6 bg-green-500 dark:text-gray-400 rounded-full">
                            <td>{{ service.id }}</td>
                            <td>{{ service.name }}</td>
                            <td>{{ service.category }}</td>
                            <td>{{ service.sellingPrice }}</td>
                            <td>{{ service.purchasePrice }}</td>
                            <td>{{ service.tax }}</td>
                            <td>{{ service.lastUpdate ? service.lastUpdate|date('d-m-Y') : '' }}</td>
                            <td>
                                <a href="{{ path('app_services_show', {'id': service.id}) }}">Voir</a>
                                <a href="{{ path('app_services_edit', {'id': service.id}) }}">Modifier</a>
                            </td>
                        </tr>
                    {% endblock %}
                {% endembed %}
            {% else %}
                <tr>
                    <td colspan="8">Aucune donnée trouvée</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        <a href="{{ path('app_services_new') }}">Nouveau</a>
    </div>
{% endblock %}
